# Lumin AI - 开发计划

## 项目概览
基于 Azure Face API 的年龄识别应用，提供积极正面的 "Vibe Tag" 氛围标签。

## 技术栈
- **前端**: React 18 + TypeScript + Vite + Tailwind CSS
- **后端**: Vercel Serverless Functions
- **AI 服务**: Azure Face API
- **部署**: Vercel (一键部署)
- **样式**: Tailwind CSS + Google Fonts (Noto Sans + Playfair Display)
- **图标**: Font Awesome 6

## 开发任务清单

### Phase 1: 项目初始化 ✅
- [x] 项目规划完成
- [ ] 创建 React + Vite + TypeScript 项目
- [ ] 配置 Tailwind CSS
- [ ] 配置 Google Fonts 和 Font Awesome
- [ ] 设置项目目录结构

### Phase 2: UI 组件开发
- [ ] 将现有 index.html 拆分为 React 组件
  - [ ] Navbar 组件
  - [ ] Hero Section 组件
  - [ ] ImageUpload 组件（拖拽上传）
  - [ ] CameraCapture 组件（摄像头拍照）
  - [ ] AnalysisResult 组件（结果展示）
  - [ ] Features Section 组件
  - [ ] Testimonials Section 组件
  - [ ] CaseStudies Section 组件
  - [ ] Articles Section 组件
  - [ ] FAQ Section 组件
  - [ ] Footer 组件

### Phase 3: 核心功能实现
- [ ] 实现图片上传逻辑
  - [ ] 拖拽上传 (react-dropzone)
  - [ ] 文件选择器
  - [ ] 图片预览
  - [ ] 前端验证（格式、大小）
  - [ ] 图片压缩 (browser-image-compression)
- [ ] 实现摄像头拍照
  - [ ] react-webcam 集成
  - [ ] 拍照和预览
  - [ ] 图片捕获
- [ ] 状态管理
  - [ ] 上传状态
  - [ ] 加载状态
  - [ ] 结果状态
  - [ ] 错误状态

### Phase 4: Vercel Serverless Function
- [ ] 创建 `/api/analyze.ts`
- [ ] Azure Face API 集成
  - [ ] 接收图片文件
  - [ ] 调用 Azure Face API
  - [ ] 错误处理（无人脸、多人脸、API 限流等）
  - [ ] 临时文件清理
- [ ] Vibe Tag 生成逻辑
  - [ ] 基于年龄段的标签分组
  - [ ] 基于情绪的标签选择
  - [ ] 随机化逻辑
- [ ] API 响应格式化

### Phase 5: 文章页面
- [ ] 创建 SkincareArticle 页面组件
- [ ] 创建 NutritionArticle 页面组件
- [ ] 创建 MindfulnessArticle 页面组件
- [ ] 编写文章内容
- [ ] 路由配置 (React Router)

### Phase 6: 用户体验优化
- [ ] 加载动画和过渡效果
- [ ] 错误提示优化
- [ ] 响应式布局测试
- [ ] 无障碍性改进
- [ ] 性能优化

### Phase 7: 部署配置
- [ ] 创建 `vercel.json` 配置文件
- [ ] 环境变量配置文档
- [ ] Azure Face API 注册指南
- [ ] 部署测试

### Phase 8: 文档完善
- [ ] 更新 CLAUDE.md
- [ ] 创建 README.md
- [ ] API 文档
- [ ] 环境配置说明

## 项目结构
```
howolddoilook/
├── api/
│   └── analyze.ts              # Vercel Serverless Function
├── src/
│   ├── App.tsx                 # 主应用
│   ├── main.tsx                # 入口文件
│   ├── pages/
│   │   ├── Home.tsx            # 主页
│   │   ├── SkincareArticle.tsx
│   │   ├── NutritionArticle.tsx
│   │   └── MindfulnessArticle.tsx
│   ├── components/
│   │   ├── Navbar.tsx
│   │   ├── Footer.tsx
│   │   ├── Hero.tsx
│   │   ├── ImageUpload.tsx
│   │   ├── CameraCapture.tsx
│   │   ├── AnalysisResult.tsx
│   │   ├── Features.tsx
│   │   ├── Testimonials.tsx
│   │   ├── CaseStudies.tsx
│   │   ├── Articles.tsx
│   │   └── FAQ.tsx
│   ├── utils/
│   │   ├── api.ts              # API 调用封装
│   │   └── vibeTagGenerator.ts # Vibe Tag 生成
│   └── types/
│       └── index.ts            # TypeScript 类型定义
├── public/
├── index.html
├── vercel.json                 # Vercel 配置
├── tailwind.config.js          # Tailwind 配置
├── tsconfig.json
├── package.json
├── CLAUDE.md
├── README.md
└── 开发计划.md
```

## 环境变量
```bash
# Vercel 环境变量配置
AZURE_FACE_ENDPOINT=https://your-resource.cognitiveservices.azure.com/
AZURE_FACE_API_KEY=your_api_key_here
```

## 关键实现细节

### Vibe Tag 生成规则
基于年龄段和情绪状态生成积极的氛围标签：
- **年龄段**: young (<30), mid (30-50), mature (50+)
- **情绪**: happy (smile > 0.7), calm (0.3-0.7), neutral (<0.3)
- **标签示例**:
  - Radiant Optimist, Sunshine Spirit, Creative Soul
  - Golden Hour Glow, Poised Leader, Timeless Grace
  - Radiant Sage, Serene Wisdom, Distinguished Aura

### 图片处理流程
1. 用户上传/拍摄照片
2. 前端验证（格式、大小）
3. 压缩图片（< 1MB）
4. 发送到 `/api/analyze`
5. Serverless Function 调用 Azure API
6. 生成 Vibe Tag
7. 返回结果并展示
8. 删除临时文件（不保存图片）

### 错误处理
- 未检测到人脸 → 友好提示，建议使用清晰正面照
- 检测到多张人脸 → 提示使用单人照片
- API 限流 → 提示稍后重试
- 网络错误 → 通用错误提示

## 开发顺序
1. ✅ 项目规划和技术选型
2. → 项目初始化（当前任务）
3. → UI 组件开发
4. → 核心功能实现
5. → Serverless Function 开发
6. → 文章页面内容
7. → 用户体验优化
8. → 部署和文档

## 预计时间线
- Phase 1-2: 1-2 天
- Phase 3-4: 2-3 天
- Phase 5-6: 1-2 天
- Phase 7-8: 1 天
- **总计**: 5-8 天（MVP 版本）

## 注意事项
1. 不保存用户照片，仅保存分析结果（符合隐私承诺）
2. 初期不实现缓存和限流（简化 MVP）
3. 基于现有 HTML 保持一致的 UI 风格
4. 使用 Azure Face API（永久免费 30k/月）
5. 所有代码部署到 Vercel（无需单独后端服务器）
